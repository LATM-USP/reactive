#N canvas -8 -8 1366 685 10;
#N canvas 0 50 450 278 (subpatch) 0;
#X array Som_1 10 float 2;
#X coords 0 1 10 -1 150 100 1 0 0;
#X restore 69 239 graph;
#N canvas 0 50 450 278 (subpatch) 0;
#X array Som_2 100 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 1 100 -1 150 100 1 0 0;
#X restore 380 236 graph;
#X obj 71 567 vradio 15 1 0 4 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X obj 1218 437 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 0 50 450 250 (subpatch) 0;
#X array Novo_Som 100 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0;
#X coords 0 1 99 -1 150 100 1 0 0;
#X restore 225 546 graph;
#X obj 179 435 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 179 452 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 180 418 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 363 824 *~;
#N canvas 88 56 707 614 vol 0;
#X floatatom 103 159 8 0 0 0 - - -;
#X msg 163 71 start;
#X msg 158 95 stop;
#X obj 103 118 pvu~ 300 300 -0.01;
#X obj 103 241 faixa;
#X floatatom 117 354 5 0 0 0 - - -;
#X obj 245 163 loadbang;
#X msg 145 207 -199.9;
#X msg 204 208 -0.001;
#X msg 263 210 0.001;
#X msg 315 211 100;
#X obj 72 391 outlet;
#X obj 86 50 inlet~;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 11 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 4 1;
#X connect 8 0 4 2;
#X connect 9 0 4 3;
#X connect 10 0 4 4;
#X connect 12 0 3 0;
#X restore 581 178 pd vol;
#N canvas 155 23 607 489 vol 0;
#X floatatom 103 159 8 0 0 0 - - -;
#X msg 163 71 start;
#X msg 158 95 stop;
#X obj 103 118 pvu~ 300 300 -0.01;
#X obj 103 241 faixa;
#X floatatom 117 354 5 0 0 0 - - -;
#X obj 245 163 loadbang;
#X msg 145 207 -199.9;
#X msg 204 208 -0.001;
#X msg 263 210 0.001;
#X msg 315 211 100;
#X obj 72 391 outlet;
#X obj 86 50 inlet~;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 11 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 4 1;
#X connect 8 0 4 2;
#X connect 9 0 4 3;
#X connect 10 0 4 4;
#X connect 12 0 3 0;
#X restore 752 178 pd vol;
#X floatatom 581 198 5 0 0 0 - - -;
#X floatatom 752 198 5 0 0 0 - - -;
#X obj 70 193 bng 20 250 50 0 empty empty Load -5 -6 0 10 -257985 -1
-1;
#X obj 106 192 bng 20 250 50 0 empty \$1 Play -1 -6 0 10 -257985 -1
-1;
#X obj 144 192 bng 20 250 50 0 empty empty Stop -5 -6 0 10 -257985
-1 -1;
#X text 138 159 Som 1;
#X obj 382 191 bng 20 250 50 0 empty empty Load -5 -6 0 10 -260097
-1 -1;
#X obj 416 192 bng 20 250 50 0 empty \$1 Play -1 -6 0 10 -260097 -1
-1;
#X obj 453 192 bng 20 250 50 0 empty empty Stop -5 -6 0 10 -260097
-1 -1;
#X text 448 158 Som 2;
#N canvas 328 183 801 435 quadroequacoes 0;
#X symbolatom 402 181 10 0 0 0 - - -;
#X symbolatom 403 204 10 0 0 0 - - -;
#X text 296 180 Harmonicidade;
#X text 298 203 Consonancia;
#X symbolatom 402 223 10 0 0 0 - - -;
#X symbolatom 403 246 10 0 0 0 - - -;
#X text 296 222 Proximidade;
#X text 298 245 Outros;
#X symbolatom 666 185 10 0 0 0 - - -;
#X symbolatom 666 209 10 0 0 0 - - -;
#X text 561 185 Harmonicidade;
#X text 564 207 Consonancia;
#X symbolatom 666 228 10 0 0 0 - - -;
#X symbolatom 666 252 10 0 0 0 - - -;
#X text 561 228 Proximidade;
#X text 564 250 Outros;
#X text 416 157 Quadro para a equacao das reacoes:;
#X restore 1118 666 pd quadroequacoes;
#N canvas 178 23 1037 711 calculo_vol_antigo 0;
#X obj 81 124 *~;
#X text 127 81 v3 = 1/2*(v1+v2) * reatividade(som1 \, som2);
#X obj 116 101 expr 0.5*($f1+$f2)*$f3;
#X text 462 117 recebe os valores dos volumes;
#X text 464 130 recebe também o valor da reatividade;
#X connect 2 0 0 1;
#X restore 1118 741 pd calculo_vol_antigo;
#X floatatom 274 721 4 0 10 0 - - -;
#X floatatom 341 721 4 0 10 0 - - -;
#X obj 432 826 *~;
#X obj 398 825 *~;
#N canvas 44 39 731 386 v12 0;
#X floatatom 172 136 10 0 0 0 - - -;
#X obj 139 14 inlet;
#X obj 201 14 inlet;
#X text 133 136 v12;
#X obj 172 182 outlet;
#X obj 417 64 expr 10*log10((10*pow(10 \, $f1/10))+(10*pow(10 \, $f2/10)))
, f 29;
#X floatatom 417 106 5 0 0 0 - - -;
#X floatatom 417 43 5 0 0 0 - - -;
#X floatatom 564 43 5 0 0 0 - - -;
#X obj 139 64 expr (1/253.01)*10*log10((10*pow(10 \, $f1/10))+(10*pow(10
\, $f2/10))), f 29;
#X obj 284 43 t b f;
#X text 253 139 v12 = soma do NPS de q1 e q2 em dB;
#X connect 0 0 4 0;
#X connect 1 0 9 0;
#X connect 2 0 10 0;
#X connect 5 0 6 0;
#X connect 7 0 5 0;
#X connect 8 0 5 1;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 10 1 9 1;
#X coords 0 -1 1 1 110 25 2 130 130;
#X restore 693 424 pd v12;
#N canvas 75 261 885 571 calculos 0;
#X floatatom 162 117 10 0 0 0 - - -;
#X text 274 148 v3 = V/(v1+v2) * reatividade(som1 \, som2);
#X obj 162 85 expr $f1/($f2+$f3), f 29;
#X text 379 86 V/(v1+v2);
#X obj 162 146 expr $f1 * $f2;
#X floatatom 162 178 5 0 0 0 - - -;
#X text 160 60 Entrada de v12 \, e os volumes de 1 e 2 separados;
#X text 254 28 Equações;
#X connect 0 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 5 0;
#X restore 1118 717 pd calculos antigos;
#N canvas 53 57 1226 676 reatividade 0;
#X floatatom 193 166 5 0 0 0 - - -;
#X text 274 174 max:;
#X text 274 159 min:;
#X obj 161 44 inlet;
#X obj 239 44 inlet;
#X text 163 166 r12;
#X obj 160 211 outlet;
#X text 449 436 reatividade = [dist.tonal * Vm * (bpm1-bp2)]/reatMAX
;
#X obj 471 92 t b f;
#X obj 160 117 expr ($f1)*($f2);
#N canvas 512 184 560 307 seletor 0;
#X obj 87 120 == 0;
#X obj 144 120 == 1;
#X floatatom 113 97 5 0 0 0 - - -;
#X obj 140 78 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 139 8 inlet;
#X obj 40 217 outlet;
#X obj 92 217 outlet;
#X obj 142 34 hradio 12 1 0 2 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X obj 40 168 spigot;
#X obj 127 168 spigot;
#X obj 40 10 inlet;
#X floatatom 160 142 5 0 0 0 - - -;
#X floatatom 73 141 5 0 0 0 - - -;
#X text 167 32 sel.1->2;
#X connect 0 0 12 0;
#X connect 1 0 11 0;
#X connect 2 0 1 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 7 0 2 0;
#X connect 8 0 5 0;
#X connect 9 0 6 0;
#X connect 10 0 8 0;
#X connect 10 0 9 0;
#X connect 11 0 9 1;
#X connect 12 0 8 1;
#X coords 0 -1 1 1 80 20 2 140 30;
#X restore 258 65 pd seletor;
#X obj 510 137 /;
#X msg 495 114 1;
#X obj 209 93 t b f;
#X obj 377 90 faixa;
#X floatatom 356 71 5 0 1 0 - - -;
#X floatatom 363 183 5 0 0 0 - - -;
#X text 157 16 r12 = v12 * dist.tonal;
#X text 337 17 r12 = v12 * 1/dist.tonal, f 65;
#X obj 173 139 average 10;
#X obj 357 43 loadbang;
#X msg 433 70 1;
#X msg 399 70 0;
#X obj 236 168 hradio 12 1 0 2 empty empty empty 0 -8 0 10 -228856
-1 -1 0;
#X text 312 175 1;
#X text 312 159 0;
#X text 235 201 Seletor:;
#X text 260 236 dir: reatividade inversa com dist. tonal;
#X text 259 219 esq: reatividade proporcional à dist.tonal;
#X text 405 391 Futuro:;
#X text 404 414 1) equaçao p/ reatividade (futura): considerar bpm:
ex:;
#X text 239 274 A FAZER:;
#X msg 313 123 0;
#X floatatom 696 171 5 0 0 0 - - -;
#X obj 696 131 expr (1-(pow(2.72 \, -2.17*($f1-0.5))))/(1+(pow(2.72
\, -2.17*($f1-0.5))))+0.5, f 64;
#X obj 834 165 r \$1-sensitivity;
#X floatatom 944 166 5 0 0 0 - - -;
#X obj 763 165 average 10;
#X text 792 101 Testes com cotg;
#X text 643 325 Acima Foi feito teste com cotg e resultado obtido foi
valores ainda menores;
#X floatatom 673 284 5 0 0 0 - - -;
#X obj 673 233 expr ((pow(2.72 \, ($f1))) + (pow(2.72 \, (-$f1))))/((pow(2.72
\, ($f1)))- (pow(2.72 \, (-$f1)))), f 64;
#X text 677 208 Testes com a tgh \, porém não obtém-se o resultado
esperado \, acima de 0.44;
#X connect 0 0 6 0;
#X connect 3 0 9 0;
#X connect 4 0 10 0;
#X connect 8 0 12 0;
#X connect 8 1 11 1;
#X connect 9 0 19 0;
#X connect 10 0 13 0;
#X connect 10 1 14 0;
#X connect 12 0 11 0;
#X connect 13 0 9 0;
#X connect 13 1 9 1;
#X connect 14 0 16 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 19 0 0 0;
#X connect 19 0 34 0;
#X connect 19 0 41 0;
#X connect 20 0 22 0;
#X connect 20 0 21 0;
#X connect 20 0 32 0;
#X connect 21 0 14 2;
#X connect 21 0 14 3;
#X connect 22 0 14 1;
#X connect 22 0 14 4;
#X connect 23 0 10 1;
#X connect 32 0 23 0;
#X connect 34 0 33 0;
#X connect 35 0 37 1;
#X connect 41 0 40 0;
#X coords 0 -1 1 1 110 25 2 160 160;
#X restore 295 493 pd reatividade;
#N canvas 88 70 944 523 dist.tonal 0;
#X floatatom 593 449 8 0 0 0 - - -;
#X text 623 102 121 (midi 30 e 30.5 \, ~20Hz);
#X text 624 81 2700 (midi 135 e 135.1 \, ~20kHz);
#X obj 593 426 clip 121 2700;
#X floatatom 199 100 8 0 1 0 - - -;
#X text 588 102 min:;
#X text 654 451 dist_tonal;
#X text 588 81 max:;
#X obj 314 22 inlet;
#X obj 199 260 outlet;
#X text 342 291 Projeto da distancia tonal:;
#X text 367 325 Valores desejados: dist_tonal=0 quando f1=f2 (dist
tonal minima) \; e dist_tonal=1 quando |f1-f2|=4000 Hz;
#X text 104 167 dist.tonal=;
#X obj 199 22 inlet;
#X obj 430 23 inlet;
#X text 442 81 Distância Tonal por Q;
#X text 365 385 Cálculo antigo da distância tonal;
#X text 365 400 dist.tonal = (f01+f02)/abs(f01+f02);
#X text 590 397 Anteriormente (em sua primeira versão de reator) utilizava-se
um clip \, para o estimador de freq. midi;
#X floatatom 811 283 5 0 0 0 - - -;
#X obj 809 302 >= 0.01;
#X obj 795 322 spigot;
#X floatatom 199 166 5 0 0 0 - - -;
#X obj 199 126 expr (1-(pow(2.72 \, -2.17*($f1-0.5))))/(1+(pow(2.72
\, -2.17*($f1-0.5))))+0.5, f 64;
#X obj 199 75 expr (1/$f3)*2*(abs($f2-$f1)/($f2+$f1));
#X text 490 56 $f3 = dt máxima;
#X text 490 21 $f1 = f1;
#X text 490 39 $f2 = f2;
#X obj 314 44 t b f;
#X obj 430 45 t b f;
#N canvas 0 23 450 300 HISTORY 0;
#X restore 787 455 pd HISTORY;
#X obj 337 160 r \$1-sensitivity;
#X obj 266 160 average 16;
#X text 264 180 calcula um valor para cada X valores que entrar (suaviza)
Inicia com (default): X = 16, f 36;
#X floatatom 447 161 5 0 0 0 - - -;
#X floatatom 36 165 5 0 0 0 - - -;
#X text 30 183 dist. tonal;
#X text 30 196 instantanea;
#X connect 3 0 0 0;
#X connect 4 0 23 0;
#X connect 8 0 28 0;
#X connect 13 0 24 0;
#X connect 14 0 29 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 0 21 1;
#X connect 22 0 9 0;
#X connect 23 0 32 0;
#X connect 23 0 35 0;
#X connect 24 0 4 0;
#X connect 28 0 24 0;
#X connect 28 1 24 1;
#X connect 29 0 24 0;
#X connect 29 1 24 2;
#X connect 31 0 32 1;
#X connect 32 0 22 0;
#X coords 0 -1 1 1 160 25 2 100 160;
#X restore 674 385 pd dist.tonal;
#N canvas 0 23 913 577 outros 0;
#X floatatom 167 113 8 0 0 0 - - -;
#X obj 166 83 sigmund~ pitch;
#X obj 166 53 osc~ 460;
#X obj 169 141 mtof;
#X floatatom 171 180 5 0 0 0 - - -;
#X obj 80 150 *~;
#X floatatom 114 110 5 0 0 0 - - -;
#X obj 81 84 noise~;
#X obj 175 234 bonk~;
#X obj 91 235 average~;
#X obj 90 266 cyclone/scope~ 165 107 49 3 64 -1 1 100 0 0 0 205 229
232 74 79 77 96 98 102 0 empty;
#X obj 16 300 ftom;
#X floatatom 15 273 5 0 0 0 - - -;
#X floatatom 16 326 5 0 0 0 - - -;
#X floatatom 166 28 5 0 0 0 - - -;
#X obj 465 294 print;
#X floatatom 450 202 5 0 0 0 - - -;
#X floatatom 768 200 5 0 0 0 - - -;
#X obj 442 229 expr 2*log10((2*pow(2 \, $f1/2)) + (2*pow(2 \, $f2/2)))
;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 9 0 10 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 2 0;
#X connect 16 0 18 0;
#X connect 17 0 18 1;
#X connect 18 0 15 0;
#X restore 1118 692 pd outros;
#N canvas 191 133 665 326 v1' 0;
#X floatatom 146 146 6 0 0 0 - - -;
#X obj 159 116 expr (1-(($f1)/($f1+$f2)))*$f3;
#X text 215 153 calculo de v1 residual: $f1 = p1 \, $f2 = p2 e $f3
= v1;
#X obj 159 58 inlet;
#X obj 265 58 inlet;
#X obj 324 58 inlet;
#X obj 146 201 outlet;
#X text 103 146 v1' =;
#X obj 265 83 t b f;
#X obj 324 83 t b f;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 8 0 1 0;
#X connect 8 1 1 1;
#X connect 9 0 1 0;
#X connect 9 1 1 2;
#X coords 0 -1 1 1 100 25 2 100 140;
#X restore 388 592 pd v1';
#N canvas 133 48 711 355 v2' 0;
#X floatatom 145 105 6 0 0 0 - - -;
#X obj 98 73 expr (1-(($f2)/($f1+$f2)))*$f3;
#X text 206 107 calculo de v2 residual: $f1 = p1 \, $f2 = p2 e $f3
= v2;
#X obj 98 23 inlet;
#X obj 204 22 inlet;
#X obj 258 23 inlet;
#X obj 145 166 outlet;
#X text 103 105 v2' =;
#X obj 204 43 t b f;
#X obj 258 44 t b f;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 8 0 1 0;
#X connect 8 1 1 1;
#X connect 9 0 1 0;
#X connect 9 1 1 2;
#X coords 0 -1 1 1 100 25 2 100 100;
#X restore 388 621 pd v2';
#N canvas 176 54 935 681 convol 0;
#X text 135 152 entrada do som 1;
#X text 306 151 entrada do som 2;
#X obj 220 294 expr $f1*$f2;
#X restore 1118 766 pd convol;
#X text 1106 437 Analisar sons ->;
#X text 62 543 Reação:;
#X text 64 392 Propriedades Som 1:;
#X text 91 568 Mixagem;
#X text 90 584 Ring Mod.;
#X text 90 600 Convolv.;
#X text 91 615 Morphing;
#X text 371 390 Propriedades Som 2:;
#X text 75 415 Volume (dB);
#X text 74 449 Reatividade;
#X text 75 432 Densidade esp.;
#X obj 485 433 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 485 450 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 486 416 hsl 50 10 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 381 413 Volume (dB);
#X text 380 447 Reatividade;
#X text 381 430 Densidade esp.;
#X text 60 497 Reatividade calculada entre Sons:;
#X text 384 529 Volume Novo Som:;
#X text 384 575 Volumes sons residuais:;
#X obj 364 861 *~;
#X obj 398 862 *~;
#X obj 432 861 *~;
#X text 59 752 Volume geral:;
#X obj 164 752 hsl 128 15 0.01 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 70 690 hsl 80 15 0.01 10 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7107 1;
#X text 57 668 Estequiometria:;
#X obj 70 713 hsl 80 15 0.01 10 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7107 1;
#X obj 41 802 loadbang;
#X floatatom 302 752 5 0 0 0 - - -;
#X msg 52 827 0.01;
#X msg 460 779 0.5;
#X floatatom 460 798 7 0 0 0 - - -;
#X text 47 27 REACTIVE;
#X obj 297 188 image reactivelogo.gif 0;
#X text 271 187 REACTIVE;
#X text 240 214 The Musical Reactor;
#X obj 160 657 antideadlock;
#X obj 163 732 antideadlock;
#X obj 200 771 antideadlock;
#X obj 72 346 hsl 105 15 0.001 3 1 0 empty empty empty -2 -8 0 10 -228856
-1 -1 8973 1;
#X obj 197 159 loadbang;
#X msg 197 183 1;
#X obj 269 344 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 344 hsl 105 15 0.001 3 1 0 empty empty empty -2 -8 0 10
-228856 -1 -1 8973 1;
#X msg 230 183 1;
#X obj 318 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 185 346 vol som1;
#X text 360 344 vol som2;
#X obj 237 300 bng 15 250 50 0 empty empty empty 17 7 0 9 -258113 -1
-1;
#X text 229 285 Panic;
#X obj 499 193 bng 20 250 50 0 empty empty Play/Stop -8 -6 0 10 -203904
-1 -1;
#N canvas 938 249 196 240 onoff 0;
#X text 142 160 start;
#X msg 116 160 1;
#X msg 59 160 0;
#X text 85 160 stop;
#X obj 65 84 == 0;
#X obj 122 84 == 1;
#X obj 116 132 spigot;
#X obj 122 108 t f f;
#X obj 65 108 t f f;
#X obj 59 132 spigot;
#X floatatom 65 51 5 0 0 0 - - -;
#X obj 76 29 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 30 27 inlet;
#X obj 49 197 outlet;
#X obj 101 197 outlet;
#X connect 1 0 14 0;
#X connect 2 0 13 0;
#X connect 4 0 8 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 2 0;
#X connect 10 0 5 0;
#X connect 10 0 4 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X restore 496 116 pd onoff;
#X obj 496 98 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 285 339 reset vol, f 6;
#N canvas 115 135 1024 509 calc. 0;
#X obj 90 13 inlet;
#X obj 201 11 inlet;
#X obj 141 385 expr (abs($f2-$f1)/(($f1+$f2)/2));
#X floatatom 160 103 7 0 0 0 - - -;
#X obj 170 131 outlet;
#X text 103 102 Q max;
#X obj 72 223 expr if($f2 < $f3 \, $f2 \, $f3);
#X msg 669 193 1;
#X msg 707 193 0;
#X obj 438 43 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 188 169 f;
#X obj 237 169 f;
#X floatatom 72 249 5 0 0 0 - - -;
#X text 109 251 f mínima entre f1 e f2;
#X floatatom 347 248 5 0 0 0 - - -;
#X text 384 250 f máxima entre f1 e f2;
#X obj 347 222 expr if($f2 > $f3 \, $f2 \, $f3);
#X floatatom 117 48 5 0 0 0 - - -;
#X floatatom 167 48 5 0 0 0 - - -;
#X obj 645 220 metro 100;
#X obj 72 274 expr if($f1 < $f2 \, $f1 \, $f2);
#X floatatom 177 329 5 0 0 0 - - -;
#X text 230 331 menor f encontrado;
#X obj 254 286 loadbang;
#X floatatom 464 328 5 0 0 0 - - -;
#X obj 529 283 loadbang;
#X obj 347 271 expr if($f1 > $f2 \, $f1 \, $f2);
#X msg 529 304 50;
#X text 505 329 maior f encontrado;
#X text 211 48 f1 e f2 para testes (manual);
#X obj 317 13 inlet;
#X obj 41 174 bang;
#X text 477 60 reset;
#X obj 438 61 t b b;
#X text 355 381 cálculo de Q max (fator de qualidade) => Q = delta/M
= (abs(f2-f1))/((f1+f2)/2) = (fmax-fmin)/((fmax+fmin)/2);
#X obj 42 71 clip 20 20000;
#X obj 224 71 clip 20 20000;
#X obj 42 91 t b f;
#X obj 224 91 t b f;
#X floatatom 190 195 5 0 0 0 - - -;
#X floatatom 248 196 5 0 0 0 - - -;
#X obj 309 362 t b f;
#X msg 254 307 1000;
#X text 507 94 OBS. CALCULADOR MUITO SENSIVEL AOS VALORES;
#X text 508 107 DE ENTRADA VINDO DO CENTROIDE.;
#X text 507 139 OBS. CONSIDERAR USO DE TABELAS DE TESSITURAS;
#X text 507 152 FIXAS OU SELECIONAVEIS \, AO INVES DE FICAR;
#X text 507 166 CALCULANDO EM TEMPO REAL;
#X text 584 29 Quando trata-se de instrument virtual o patch não inicia
\, pois está conectado em pd on/off e o mesmo não está ligado ao
instrumento virtual.;
#X text 548 39 OBS.:;
#X floatatom 262 252 5 0 0 0 - - -;
#X obj 256 222 t f b b b;
#X connect 0 0 17 0;
#X connect 1 0 18 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 6 0 12 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 33 0;
#X connect 10 0 6 1;
#X connect 10 0 16 1;
#X connect 10 0 39 0;
#X connect 11 0 6 2;
#X connect 11 0 16 2;
#X connect 11 0 40 0;
#X connect 12 0 20 0;
#X connect 14 0 26 0;
#X connect 16 0 14 0;
#X connect 17 0 35 0;
#X connect 18 0 36 0;
#X connect 20 0 21 0;
#X connect 21 0 2 0;
#X connect 21 0 51 0;
#X connect 23 0 42 0;
#X connect 24 0 26 1;
#X connect 24 0 41 0;
#X connect 25 0 27 0;
#X connect 26 0 24 0;
#X connect 27 0 24 0;
#X connect 30 0 9 0;
#X connect 31 0 6 0;
#X connect 31 0 16 0;
#X connect 33 0 42 0;
#X connect 33 1 27 0;
#X connect 35 0 37 0;
#X connect 36 0 38 0;
#X connect 37 0 31 0;
#X connect 37 1 10 0;
#X connect 38 0 31 0;
#X connect 38 1 11 0;
#X connect 41 0 2 0;
#X connect 41 1 2 1;
#X connect 42 0 51 0;
#X connect 50 0 20 1;
#X connect 51 0 50 0;
#X coords 0 -1 1 1 110 20 2 100 100;
#X restore 1003 188 pd calc. Q;
#X text 998 157 Qmax = cálculo do fator de qualidade p/ máxima extensão
de f1 e f2;
#X text 838 390 dt12 (distância tonal entre som1 e som2);
#X text 416 499 <-- r12 (calculo da reatividade entre som1 e som2)
;
#N canvas 29 233 575 401 player_som1 0;
#X obj 108 86 openpanel;
#X msg 101 155 open \$1;
#X obj 100 183 readsf~;
#X msg 228 145 0;
#X msg 186 145 1;
#X obj 297 179 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X symbolatom 137 113 20 0 0 0 - - -;
#X obj 187 84 t b b;
#X obj 101 133 symbol;
#X obj 109 27 inlet;
#X obj 161 27 inlet;
#X obj 215 27 inlet;
#X obj 100 297 outlet~;
#X obj 269 27 inlet;
#X obj 100 216 *~;
#X obj 154 216 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 297 159 metro 100;
#X text 176 45 play;
#X text 227 45 stop;
#X obj 234 84 t b b;
#X msg 297 138 0;
#X obj 154 298 outlet;
#X text 178 314 bang quando stop OU end of play;
#X obj 173 273 tabwrite~ Som_1;
#X connect 0 0 6 0;
#X connect 0 0 8 1;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 2 1 15 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 23 0;
#X connect 7 0 4 0;
#X connect 7 0 16 0;
#X connect 7 1 8 0;
#X connect 8 0 1 0;
#X connect 9 0 0 0;
#X connect 10 0 7 0;
#X connect 11 0 19 0;
#X connect 13 0 14 1;
#X connect 14 0 12 0;
#X connect 14 0 23 0;
#X connect 15 0 21 0;
#X connect 16 0 5 0;
#X connect 19 0 20 0;
#X connect 19 0 15 0;
#X connect 19 1 3 0;
#X connect 20 0 16 0;
#X restore 210 372 pd player_som1;
#N canvas 29 233 575 401 player_som2 0;
#X obj 108 86 openpanel;
#X msg 101 155 open \$1;
#X obj 100 183 readsf~;
#X msg 228 145 0;
#X msg 186 145 1;
#X obj 297 179 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X symbolatom 137 113 20 0 0 0 - - -;
#X obj 187 84 t b b;
#X obj 101 133 symbol;
#X obj 109 27 inlet;
#X obj 161 27 inlet;
#X obj 215 27 inlet;
#X obj 100 297 outlet~;
#X obj 173 273 tabwrite~ Som_2;
#X obj 269 27 inlet;
#X obj 100 216 *~;
#X obj 154 216 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 297 159 metro 100;
#X text 176 45 play;
#X text 227 45 stop;
#X obj 234 84 t b b;
#X msg 297 138 0;
#X obj 154 298 outlet;
#X text 178 314 bang quando stop OU end of play;
#X connect 0 0 6 0;
#X connect 0 0 8 1;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 2 1 16 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 7 0 17 0;
#X connect 7 1 8 0;
#X connect 8 0 1 0;
#X connect 9 0 0 0;
#X connect 10 0 7 0;
#X connect 11 0 20 0;
#X connect 14 0 15 1;
#X connect 15 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 22 0;
#X connect 17 0 5 0;
#X connect 20 0 21 0;
#X connect 20 0 16 0;
#X connect 20 1 3 0;
#X connect 21 0 17 0;
#X restore 331 372 pd player_som2;
#N canvas 18 48 1280 685 descpt 0;
#X obj 154 139 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X obj 116 79 centroid~ 2048 4;
#X msg 218 59 set 1024 2;
#X obj 336 140 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X obj 296 79 centroid~ 2048 4;
#X msg 398 59 set 1024 2;
#X floatatom 116 139 5 0 0 0 - - -;
#X floatatom 296 139 5 0 0 0 - - -;
#X obj 116 34 inlet~;
#X obj 296 34 inlet~;
#X obj 116 210 outlet;
#X obj 296 210 outlet;
#X text 114 9 Entrada do Som 1;
#X text 294 9 Entrada do Som 2;
#X text 101 107 Centróide Espectral;
#X text 275 107 Centróide Espectral;
#X text 107 123 Som 1;
#X text 287 123 Som 2;
#X obj 492 11 loadbang;
#X text 280 357 OBS. GABRIEL: o on/off de controle do centroide está
com comportamento esquisito: quando liga/desliga/liga pela segunda
vez os valores sao diferentes: descobrir o que está ocorrendo. Comportamento
esperado é: ligou \, se o som nao mudar ele deve dar um mesmo valor
único de centroide espectral.;
#X obj 405 30 loadbang;
#X obj 216 32 loadbang;
#X obj 596 111 r \$1-sensitivity;
#X obj 458 153 average 16;
#X obj 539 154 average 16;
#X text 455 178 calcula um valor de centroide para cada X valores que
entrar (suaviza) Inícia com (default): X = 16, f 36;
#X floatatom 617 137 5 0 0 0 - - -;
#X connect 0 0 1 1;
#X connect 1 0 23 0;
#X connect 2 0 1 1;
#X connect 3 0 4 1;
#X connect 4 0 24 0;
#X connect 5 0 4 1;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 1 0;
#X connect 9 0 4 0;
#X connect 18 0 0 0;
#X connect 18 0 3 0;
#X connect 20 0 5 0;
#X connect 21 0 2 0;
#X connect 22 0 23 1;
#X connect 22 0 24 1;
#X connect 22 0 26 0;
#X connect 23 0 6 0;
#X connect 24 0 7 0;
#X coords 0 -1 1 1 300 70 2 100 100;
#X restore 591 224 pd descpt;
#N canvas 231 33 720 365 antigo_detector_freq 0;
#N canvas 57 81 675 484 midi-freq-estimate 0;
#X obj 86 59 sigmund~ -npts 2048 pitch;
#X obj 87 168 abs;
#X obj 173 430 outlet;
#X obj 48 16 inlet~;
#X obj 91 383 change;
#X obj 212 38 osc~ 22;
#X floatatom 227 18 5 0 10000 0 - - -;
#X floatatom 150 287 5 0 0 0 - - -;
#X floatatom 87 194 8 0 0 0 - - -;
#X obj 87 215 select 1500;
#X floatatom 150 242 8 0 0 0 - - -;
#X floatatom 121 169 5 0 0 0 - - -;
#X msg 140 332 0;
#X obj 150 263 clip 16 135;
#X text 145 194 <- valor absoluto calculado por sigmund em midi;
#X text 166 215 <- extrator do midi=1500 inválido;
#X text 233 263 <- clipador para 16<midi<135;
#X floatatom 171 104 8 0 135 0 - - -;
#X text 103 103 midi value;
#X floatatom 171 122 8 0 0 0 - - -;
#X obj 265 137 mtof;
#X text 103 120 pitch Hz;
#X text 218 430 <- exporta pitch válido em Hz;
#X obj 235 117 select 0;
#X msg 235 137 0;
#X obj 150 311 select 135;
#X text 208 241 <- valor midi válido;
#X text 186 286 <- valor midi válido clipado entre 16 e 135;
#X text 225 311 <- extrator do midi=135 que identifica fim de play
;
#X text 189 334 <- passa valor midi=0 se fim de play;
#X text 136 385 <- passa novo valor de saída somente quando altera
entrada;
#X obj 108 288 inlet;
#X obj 91 312 delay 50;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 3 0 0 0;
#X connect 4 0 17 0;
#X connect 6 0 5 0;
#X connect 7 0 25 0;
#X connect 8 0 9 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 11 0 8 0;
#X connect 12 0 4 0;
#X connect 13 0 7 0;
#X connect 17 0 23 0;
#X connect 19 0 2 0;
#X connect 20 0 19 0;
#X connect 23 0 24 0;
#X connect 23 1 20 0;
#X connect 24 0 19 0;
#X connect 25 0 12 0;
#X connect 25 1 4 0;
#X connect 31 0 32 0;
#X connect 32 0 12 0;
#X coords 0 -1 1 1 125 40 2 100 100;
#X restore 271 149 pd midi-freq-estimate;
#X text 403 161 pitch detector (estimador fundamental f0);
#N canvas 57 81 675 484 midi-freq-estimate 0;
#X obj 86 59 sigmund~ -npts 2048 pitch;
#X obj 87 168 abs;
#X obj 173 430 outlet;
#X obj 48 16 inlet~;
#X obj 91 383 change;
#X obj 212 38 osc~ 22;
#X floatatom 227 18 5 0 10000 0 - - -;
#X floatatom 150 287 5 0 0 0 - - -;
#X floatatom 87 194 8 0 0 0 - - -;
#X obj 87 215 select 1500;
#X floatatom 150 242 8 0 0 0 - - -;
#X floatatom 121 169 5 0 0 0 - - -;
#X msg 140 332 0;
#X obj 150 263 clip 16 135;
#X text 145 194 <- valor absoluto calculado por sigmund em midi;
#X text 166 215 <- extrator do midi=1500 inválido;
#X text 233 263 <- clipador para 16<midi<135;
#X floatatom 171 104 8 0 135 0 - - -;
#X text 103 103 midi value;
#X floatatom 171 122 8 0 0 0 - - -;
#X obj 265 137 mtof;
#X text 103 120 pitch Hz;
#X text 218 430 <- exporta pitch válido em Hz;
#X obj 235 117 select 0;
#X msg 235 137 0;
#X obj 150 311 select 135;
#X text 208 241 <- valor midi válido;
#X text 186 286 <- valor midi válido clipado entre 16 e 135;
#X text 225 311 <- extrator do midi=135 que identifica fim de play
;
#X text 189 334 <- passa valor midi=0 se fim de play;
#X text 136 385 <- passa novo valor de saída somente quando altera
entrada;
#X obj 108 288 inlet;
#X obj 91 312 delay 50;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 3 0 0 0;
#X connect 4 0 17 0;
#X connect 6 0 5 0;
#X connect 7 0 25 0;
#X connect 8 0 9 0;
#X connect 9 1 10 0;
#X connect 10 0 13 0;
#X connect 11 0 8 0;
#X connect 12 0 4 0;
#X connect 13 0 7 0;
#X connect 17 0 23 0;
#X connect 19 0 2 0;
#X connect 20 0 19 0;
#X connect 23 0 24 0;
#X connect 23 1 20 0;
#X connect 24 0 19 0;
#X connect 25 0 12 0;
#X connect 25 1 4 0;
#X connect 31 0 32 0;
#X connect 32 0 12 0;
#X coords 0 -1 1 1 125 40 2 100 100;
#X restore 130 149 pd midi-freq-estimate;
#X text 153 121 Som 1;
#X text 287 120 Som 2;
#X restore 1118 642 pd antigo_detector_freq;
#X text 893 274 Estimador de frequencia usando o centróide espectral
;
#X text 165 712 Proporções: Som 1;
#X text 303 711 Som 2;
#N canvas 332 87 776 676 reat_individual 0;
#X obj 426 55 inlet;
#X obj 570 55 inlet;
#X obj 51 61 inlet;
#X text 41 20 Reatividade;
#X text 42 36 Entre 1 e 2;
#X obj 49 276 expr if ($f1 < $f2 \, $f1 \, $f2);
#X obj 181 55 inlet;
#X obj 298 55 inlet;
#X obj 176 155 expr $f1/$f2;
#X obj 409 272 expr if ($f1 < $f2 \, $f1 \, $f2);
#X text 233 274 <- qtd. min. i;
#X text 594 273 <- qtd. min. j;
#X obj 428 152 expr $f1/$f2;
#X obj 80 374 expr ($f1 - ($f2*$f3));
#X obj 408 376 expr ($f1 - ($f2*$f3));
#X text 261 154 qm 1 individual;
#X text 511 151 qm 2 individual;
#X obj 225 523 outlet;
#X obj 315 523 outlet;
#X floatatom 297 421 5 0 0 0 - - -;
#X floatatom 297 441 5 0 0 0 - - -;
#X text 251 402 Volumes Residuais;
#X text 433 35 r1;
#X text 577 35 r2;
#X text 264 418 q1';
#X text 265 442 q2';
#X text 408 398 q2' = q2- (qm2 * r2);
#X text 92 398 q1' = q1- (qm1 * r1);
#X text 56 375 q1';
#X text 377 374 q2';
#X text 414 291 qm = r12 * min(q1/r1 \, q2/r2);
#X text 70 297 qm = r12 * min(q1/r1 \, q2/r2);
#X text 269 168 qm 1 = q1/r1;
#X text 513 163 qm 2 = q2/r2;
#X text 187 35 q1;
#X text 304 35 q2;
#X text 268 522 q1';
#X text 367 522 q2';
#X connect 0 0 8 1;
#X connect 0 0 13 2;
#X connect 1 0 12 1;
#X connect 1 0 14 2;
#X connect 2 0 5 0;
#X connect 2 0 9 0;
#X connect 5 0 13 1;
#X connect 6 0 8 0;
#X connect 6 0 13 0;
#X connect 7 0 12 0;
#X connect 7 0 14 0;
#X connect 8 0 5 1;
#X connect 9 0 14 1;
#X connect 12 0 9 1;
#X connect 13 0 19 0;
#X connect 14 0 20 0;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X coords 0 0 1 1 110 60 2 250 400;
#X restore 886 546 pd reat_individual;
#X obj 853 345 loadbang;
#X obj 834 365 f 2;
#X obj 834 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 113 47 450 300 mix 0;
#X obj 14 40 inlet~;
#X obj 61 41 inlet;
#X obj 48 92 line~;
#X obj 34 125 *~;
#X obj 48 69 pack 0 10;
#X obj 183 42 inlet~;
#X obj 230 43 inlet;
#X obj 213 89 line~;
#X obj 195 127 *~;
#X obj 213 68 pack 0 10;
#X obj 105 206 +~;
#X obj 105 234 outlet~;
#X obj 127 125 hsl 50 8 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 127 137 hsl 50 8 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 157 77 line;
#X obj 119 77 line;
#X text 105 121 s1;
#X text 105 133 s2;
#X text 119 106 a;
#X text 105 100 S1;
#X text 127 100 S2;
#X text 141 106 b;
#X connect 0 0 3 1;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 2 0;
#X connect 4 0 15 0;
#X connect 5 0 8 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 10 1;
#X connect 9 0 7 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X coords 0 -1 1 1 85 50 2 100 100;
#X restore 569 611 pd mix;
#X obj 1119 848 audce_aux_dbvol~;
#X obj 163 690 bng 14 250 50 0 empty empty Reset 17 11 0 6 -262144
-1 -1;
#N canvas 20 229 450 300 sensitivity 0;
#X floatatom 103 103 3 0 64 0 - - -;
#X obj 130 103 hsl 50 15 0 64 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3675 1;
#X obj 130 130 antideadlock;
#X obj 245 141 faixa;
#X msg 263 115 0;
#X obj 103 213 round;
#X obj 327 88 loadbang;
#X text 30 55 OBS Este box e slider estão com valores máximos de
0 a 64;
#X obj 103 242 s \$1-sensitivity;
#X msg 358 115 0;
#X floatatom 63 241 5 0 0 0 - - -;
#X msg 293 115 64;
#X msg 327 115 64;
#X obj 108 162 expr 64-$f1;
#X msg 156 76 48;
#X connect 0 0 2 0;
#X connect 0 0 13 0;
#X connect 1 0 2 1;
#X connect 2 0 0 0;
#X connect 2 1 1 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 5 0 10 0;
#X connect 6 0 4 0;
#X connect 6 0 11 0;
#X connect 6 0 12 0;
#X connect 6 0 9 0;
#X connect 6 0 14 0;
#X connect 9 0 3 4;
#X connect 11 0 3 2;
#X connect 12 0 3 3;
#X connect 13 0 5 0;
#X connect 14 0 0 0;
#X coords 0 -1 1 1 85 20 2 100 100;
#X restore 232 261 pd sensitivity;
#X text 230 244 Sensitivity;
#X msg 41 647 5;
#X obj 376 728 / 10;
#X obj 303 729 / 10;
#X text 877 835 Expressão para calculo do volume:;
#N canvas 318 23 910 647 Histórico 0;
#X text 32 40 A FAZER:;
#X text 35 222 FEITO:;
#X text 46 91 2) som resultado no canal 3 (central) \, resíduos nos
canais 1 (left) e 2 (right);
#X text 46 70 1) configurar saída para 8 canais;
#X text 54 247 1) VOCE ESTÁ USANDO CENTROIDE ESPECTRAL ONDE DEVERIA
USAR DENSIDADE ESPECTRAL PARA CALCULAR AS REATIVIDADES r1 e r2. DEVE
USAR UM DESCRITOR DE DENSIDADE ESPECTRAL., f 38;
#X text 307 265 <- Primeiro momento utilizou-se Sflux \, porém o chroma24
mostrou desempenho eficaz \;;
#X text 56 315 2) inversor feito com "range converter" (patch faixa)
não está dando bom resultado \, pois r12 não está crescendo mais
que 0.44 > checar como resolver: colocar uma tgh inversa? criar duas
funções expr \, uma para cada situação?;
#X text 56 373 3) RETIRAR OS CALCULOS DE r1 e r2 DAQUI PARA OUTROS
BOXES INDEPENDENTES, f 25;
#X text 224 381 <- Foi criado boxes de reatividade individual \, e
r1 e r2 \;;
#X text 419 337 <- relativo ao calculo de reatividade \, resultado
ainda não muito satisfatório \, qual o próximo passo?? \;;
#X text 38 451 V.5.6 (diff p/ v.5.5);
#X text 67 484 - retirado fontes de sinal para testes de dentro do
patch (adc~ \, osciladores \, intr.pd);
#X text 37 536 V.5.7 (diff p/ v.5.6);
#X text 66 569 - mudança na nomenclatura referente aos volumes v ->
q;
#X restore 1118 799 pd Histórico;
#N canvas 602 23 456 397 Créditos 0;
#X text 47 27 REACTIVE;
#X text 47 47 Reator Musical v.5.1;
#X text 47 122 Inlets:;
#X text 47 145 Outlet:;
#X text 49 267 Author: Regis Faria and Others;
#X text 49 290 Tested under: Pd version 0.48.;
#X text 47 83 License: CC;
#X text 47 101 Description:;
#X text 47 65 Dates: 05/05/19;
#X text 47 172 Requisitos:;
#X text 86 192 pd 0.48 vanilla.;
#X text 86 210 bibliotecas: cyclone;
#X restore 1118 822 pd Créditos;
#N canvas 18 76 1099 601 v3 0;
#X obj 24 36 inlet;
#X obj 140 36 inlet;
#X obj 210 35 inlet;
#X obj 127 304 expr $f1*$f2;
#X obj 199 157 minimum;
#X obj 282 36 inlet;
#X obj 350 35 inlet;
#X floatatom 191 376 5 0 0 0 - - -;
#X obj 99 404 outlet;
#X obj 259 125 t b f;
#X text 24 15 r12;
#X text 281 16 r1;
#X text 349 16 r2;
#X obj 190 64 t b f;
#X obj 283 62 t b f;
#X obj 149 282 t b f;
#X floatatom 199 179 5 0 0 0 - - -;
#X obj 149 260 average 12;
#X obj 166 325 clip 0 90;
#X floatatom 127 325 5 0 0 0 - - -;
#X floatatom 195 104 5 0 0 0 - - -;
#X floatatom 288 105 5 0 0 0 - - -;
#X floatatom 50 59 5 0 0 0 - - -;
#X obj 539 144 expr if($f2 < $f3 \, $f2 \, $f3);
#X obj 640 94 f;
#X obj 884 95 f;
#X floatatom 539 166 5 0 0 0 - - -;
#X floatatom 814 169 5 0 0 0 - - -;
#X obj 814 143 expr if($f2 > $f3 \, $f2 \, $f3);
#X obj 539 191 expr if($f1 < $f2 \, $f1 \, $f2);
#X floatatom 540 214 5 0 0 0 - - -;
#X floatatom 814 216 5 0 0 0 - - -;
#X obj 814 192 expr if($f1 > $f2 \, $f1 \, $f2);
#X obj 586 90 bang;
#X obj 606 59 t b f;
#X obj 884 59 t b f;
#X floatatom 646 117 5 0 0 0 - - -;
#X floatatom 896 119 5 0 0 0 - - -;
#X obj 540 243 t b f;
#X text 576 168 v mínima entre v1 e v2;
#X text 851 171 v máxima entre v1 e v2;
#X obj 169 84 expr $f1/$f2;
#X obj 259 84 expr $f1/$f2;
#X text 583 220 menor qm encontrado;
#X text 855 218 maior qm encontrado;
#X text 92 453 OBSERVAÇÕES: 1) Existem dois calculadores de v3: um
que utiliza o patch "minimum" e outro que utiliza uma lógica com if.
Selecione o desejado.;
#N canvas 512 184 560 307 seletor 0;
#X obj 87 120 == 0;
#X obj 144 120 == 1;
#X floatatom 113 97 5 0 0 0 - - -;
#X obj 140 78 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 129 10 inlet;
#X obj 40 217 outlet;
#X obj 142 34 hradio 12 1 0 2 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X obj 40 168 spigot;
#X obj 127 168 spigot;
#X obj 40 10 inlet;
#X floatatom 160 142 5 0 0 0 - - -;
#X floatatom 73 141 5 0 0 0 - - -;
#X obj 84 10 inlet;
#X text 167 32 sel.2->1;
#X connect 0 0 11 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 7 0;
#X connect 10 0 8 1;
#X connect 11 0 7 1;
#X connect 12 0 8 0;
#X coords 0 -1 1 1 80 20 2 140 30;
#X restore 331 224 pd seletor;
#X obj 198 357 hradio 12 1 0 2 empty empty empty 0 -8 0 10 -228856
-1 -1 0;
#X text 543 31 Cálculo de qtd de matéria usando if do qmax;
#X text 103 354 Select method:;
#X text 81 226 Seletor de método de cálculo de mínimo:;
#X text 208 303 <-- q3 = r12 * minimo (v1/r1 \, v2/r2);
#X text 104 376 qm:;
#X text 236 378 Quantidade de produto final qm clipado entre 0 e 90
;
#X text 133 103 q1/r1 ->;
#X text 327 104 <- q2/r2;
#X text 255 157 <-- minimo (q1/r1 \, q2/r2);
#X text 139 16 q1;
#X text 210 15 q2;
#X connect 0 0 3 0;
#X connect 0 0 22 0;
#X connect 1 0 41 0;
#X connect 2 0 42 0;
#X connect 3 0 18 0;
#X connect 3 0 19 0;
#X connect 4 0 16 0;
#X connect 5 0 13 0;
#X connect 6 0 14 0;
#X connect 7 0 8 0;
#X connect 9 0 4 0;
#X connect 9 1 4 1;
#X connect 13 0 41 0;
#X connect 13 1 41 1;
#X connect 14 0 42 0;
#X connect 14 1 42 1;
#X connect 15 0 3 0;
#X connect 15 1 3 1;
#X connect 16 0 46 0;
#X connect 17 0 15 0;
#X connect 18 0 7 0;
#X connect 20 0 34 0;
#X connect 21 0 35 0;
#X connect 23 0 26 0;
#X connect 24 0 23 1;
#X connect 24 0 28 1;
#X connect 24 0 36 0;
#X connect 25 0 23 2;
#X connect 25 0 28 2;
#X connect 25 0 37 0;
#X connect 26 0 29 0;
#X connect 27 0 32 0;
#X connect 28 0 27 0;
#X connect 29 0 30 0;
#X connect 30 0 38 0;
#X connect 30 0 32 1;
#X connect 31 0 29 1;
#X connect 31 0 38 0;
#X connect 32 0 31 0;
#X connect 33 0 23 0;
#X connect 33 0 28 0;
#X connect 34 0 33 0;
#X connect 34 1 24 0;
#X connect 35 0 33 0;
#X connect 35 1 25 0;
#X connect 38 0 46 1;
#X connect 41 0 4 0;
#X connect 41 0 20 0;
#X connect 42 0 9 0;
#X connect 42 0 21 0;
#X connect 46 0 17 0;
#X connect 47 0 46 2;
#X coords 0 -1 1 1 130 45 2 100 350;
#X restore 569 666 pd v3;
#N canvas 221 120 876 430 v3 0;
#X floatatom 24 122 16 0 0 0 - - -;
#X floatatom 135 205 6 0 0 0 - - -;
#X obj 54 164 clip 0 90;
#X obj 24 101 expr (((($f1/$f1+$f2)*$f4)+(($f2/$f1+$f2)*$f3))*$f5)
;
#X obj 210 206 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 24 36 inlet;
#X obj 88 35 inlet;
#X obj 156 34 inlet;
#X obj 228 35 inlet;
#X obj 296 34 inlet;
#X obj 135 251 outlet;
#X obj 65 73 t b f;
#X obj 133 72 t b f;
#X obj 202 74 t b f;
#X obj 263 75 t b f;
#X text 102 205 qm =;
#X text 389 74 equação para qm antigo;
#X text 432 100 Calculador de qm \, em que $f1 = p1 \, $f2 = p2 \,
$f3 = q1 \, $f4 = q2 e $f5 = reatividade;
#X connect 0 0 2 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 11 0;
#X connect 7 0 12 0;
#X connect 8 0 13 0;
#X connect 9 0 14 0;
#X connect 11 0 3 0;
#X connect 11 1 3 1;
#X connect 12 0 3 0;
#X connect 12 1 3 2;
#X connect 13 0 3 0;
#X connect 13 1 3 3;
#X connect 14 0 3 0;
#X connect 14 1 3 4;
#X coords 0 -1 1 1 100 25 2 100 200;
#X restore 803 681 pd v3;
#N canvas 512 184 560 307 seletor 0;
#X obj 87 120 == 0;
#X obj 144 120 == 1;
#X floatatom 113 97 5 0 0 0 - - -;
#X obj 140 78 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 129 10 inlet;
#X obj 40 217 outlet;
#X obj 142 34 hradio 12 1 0 2 empty empty empty 0 -8 0 10 -228856 -1
-1 0;
#X obj 40 168 spigot;
#X obj 127 168 spigot;
#X obj 40 10 inlet;
#X floatatom 160 142 5 0 0 0 - - -;
#X floatatom 73 141 5 0 0 0 - - -;
#X obj 84 10 inlet;
#X text 167 32 sel.2->1;
#X connect 0 0 11 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 7 0;
#X connect 10 0 8 1;
#X connect 11 0 7 1;
#X connect 12 0 8 0;
#X coords 0 -1 1 1 80 20 2 140 30;
#X restore 569 727 pd seletor;
#X text 656 728 <-- CUIDADO COM VOLUMES DIFERENTES!;
#X text 897 884 Funçao reatividade 3: convolução;
#X text 897 862 Funçao reatividade 5: subtração;
#X text 658 622 Funçao reatividade 1: mixagem;
#N canvas 41 49 765 473 calc.r1 0;
#X obj 89 227 expr $f1*$f2;
#X obj 116 301 outlet;
#X floatatom 129 256 5 0 0 0 - - -;
#X obj 89 17 inlet;
#X text 66 16 v1;
#X obj 615 353 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X obj 578 379 Sflux~ 2048 4;
#X msg 684 355 set 1024 2;
#X text 665 382 Fluxo Espectral;
#X floatatom 564 427 7 0 0 0 - - -;
#X obj 564 406 average 12;
#X obj 163 18 inlet~;
#X obj 662 301 loadbang;
#X obj 662 323 t b b;
#X text 102 255 ri;
#X obj 293 126 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X floatatom 194 149 5 0 0 0 - - -;
#X floatatom 233 149 5 0 0 0 - - -;
#N canvas 64 58 317 170 bins 0;
#X obj 138 42 t b f;
#X obj 48 27 inlet;
#X obj 142 0 inlet;
#X obj 49 130 outlet;
#X obj 173 129 outlet;
#X obj 249 87 inlet;
#X obj 48 86 expr int($f1/(44100/$f3)) \; int($f2/(44100/$f3));
#X obj 206 39 loadbang;
#X msg 212 64 8192;
#X connect 0 0 6 0;
#X connect 0 1 6 1;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 5 0 6 2;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X connect 7 0 8 0;
#X connect 8 0 6 2;
#X restore 194 120 pd bins;
#X floatatom 179 87 6 0 0 1 min_freq - -;
#X floatatom 279 87 6 0 0 1 max_freq - -;
#X msg 385 93 2048;
#X msg 275 148 set 2048 2;
#X obj 164 176 chroma24~ 8192 2;
#X obj 179 46 loadbang;
#X obj 279 46 loadbang;
#X msg 179 66 20;
#X msg 279 66 20000;
#X obj 385 50 loadbang;
#X obj 385 72 t b b b;
#X floatatom 164 207 5 0 0 0 - - -;
#X text 630 281 Cálculo antigo;
#X text 347 332 Usando Sflux para reatividade individual \;;
#X text 176 254 ri = vi*chroma24(i);
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 5 0 6 1;
#X connect 6 0 10 0;
#X connect 7 0 6 1;
#X connect 10 0 9 0;
#X connect 11 0 23 0;
#X connect 12 0 13 0;
#X connect 13 0 5 0;
#X connect 13 1 7 0;
#X connect 15 0 23 3;
#X connect 16 0 23 1;
#X connect 17 0 23 2;
#X connect 18 0 16 0;
#X connect 18 1 17 0;
#X connect 19 0 18 0;
#X connect 20 0 18 1;
#X connect 21 0 18 2;
#X connect 22 0 23 3;
#X connect 23 0 30 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 19 0;
#X connect 27 0 20 0;
#X connect 28 0 29 0;
#X connect 29 0 15 0;
#X connect 29 1 21 0;
#X connect 29 2 22 0;
#X connect 30 0 0 1;
#X coords 0 -1 1 1 70 25 2 100 250;
#X restore 994 344 pd calc.r1;
#N canvas 441 150 792 463 calc.r2 0;
#X obj 195 217 expr $f1*$f2;
#X obj 222 311 outlet;
#X floatatom 233 256 5 0 0 0 - - -;
#X obj 195 17 inlet;
#X obj 634 341 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X obj 597 367 Sflux~ 2048 4;
#X msg 703 343 set 1024 2;
#X text 684 370 Fluxo Espectral;
#X floatatom 583 415 7 0 0 0 - - -;
#X obj 583 394 average 12;
#X obj 269 18 inlet~;
#X obj 681 289 loadbang;
#X obj 681 311 t b b;
#X text 172 16 v2;
#X text 206 255 rj;
#X obj 399 117 tgl 15 0 empty empty on/off 17 7 0 10 -262144 -1 -1
1 1;
#X floatatom 300 140 5 0 0 0 - - -;
#X floatatom 339 140 5 0 0 0 - - -;
#N canvas 64 58 317 170 bins 0;
#X obj 138 42 t b f;
#X obj 48 27 inlet;
#X obj 142 0 inlet;
#X obj 49 130 outlet;
#X obj 173 129 outlet;
#X obj 249 87 inlet;
#X obj 48 86 expr int($f1/(44100/$f3)) \; int($f2/(44100/$f3));
#X obj 206 39 loadbang;
#X msg 212 64 8192;
#X connect 0 0 6 0;
#X connect 0 1 6 1;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 5 0 6 2;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X connect 7 0 8 0;
#X connect 8 0 6 2;
#X restore 300 111 pd bins;
#X floatatom 285 78 6 0 0 1 min_freq - -;
#X floatatom 385 78 6 0 0 1 max_freq - -;
#X msg 491 84 2048;
#X msg 381 139 set 2048 2;
#X obj 270 167 chroma24~ 8192 2;
#X obj 285 37 loadbang;
#X obj 385 37 loadbang;
#X msg 285 57 20;
#X msg 385 57 20000;
#X obj 491 41 loadbang;
#X obj 491 63 t b b b;
#X floatatom 270 198 5 0 0 0 - - -;
#X text 657 263 Cálculo antigo:;
#X text 380 339 Usando Sflux para reatividade individual \;;
#X text 276 254 rj = vj*chroma24(j);
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 5 1;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 9 0 8 0;
#X connect 10 0 23 0;
#X connect 11 0 12 0;
#X connect 12 0 4 0;
#X connect 12 1 6 0;
#X connect 15 0 23 3;
#X connect 16 0 23 1;
#X connect 17 0 23 2;
#X connect 18 0 16 0;
#X connect 18 1 17 0;
#X connect 19 0 18 0;
#X connect 20 0 18 1;
#X connect 21 0 18 2;
#X connect 22 0 23 3;
#X connect 23 0 30 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 19 0;
#X connect 27 0 20 0;
#X connect 28 0 29 0;
#X connect 29 0 15 0;
#X connect 29 1 21 0;
#X connect 29 2 22 0;
#X connect 30 0 0 1;
#X coords 0 -1 1 1 70 25 2 200 250;
#X restore 1092 343 pd calc.r2;
#X text 974 354 r1;
#X text 297 841 SOM3 (produto);
#X text 401 843 SOM1';
#X text 440 842 SOM2';
#X obj 363 888 outlet~;
#X text 1226 903 eof;
#X obj 418 887 outlet~;
#X obj 473 886 outlet~;
#X text 61 775 som3;
#X text 304 775 som1;
#X text 510 775 som2;
#X obj 454 36 inlet~;
#X obj 503 36 inlet~;
#X text 507 800 qm;
#X text 714 668 <-- qm novo;
#X text 811 175 q2 (volume som 2);
#X text 629 178 q1 (volume som 1);
#X text 910 688 <-- qm antigo;
#X text 1003 567 <-- q residual novo;
#X text 808 433 v12 = soma de q1 e q2 do NPS em dB;
#X text 70 54 Reator Musical v.5.7;
#X connect 8 0 55 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 27 0;
#X connect 11 0 32 2;
#X connect 11 0 101 1;
#X connect 11 0 116 1;
#X connect 11 0 117 2;
#X connect 11 0 123 0;
#X connect 12 0 27 1;
#X connect 12 0 33 2;
#X connect 12 0 101 2;
#X connect 12 0 116 2;
#X connect 12 0 117 3;
#X connect 12 0 124 0;
#X connect 13 0 94 0;
#X connect 14 0 94 1;
#X connect 15 0 94 2;
#X connect 17 0 95 0;
#X connect 18 0 95 1;
#X connect 19 0 95 2;
#X connect 23 0 72 0;
#X connect 23 0 112 0;
#X connect 24 0 73 0;
#X connect 24 0 111 0;
#X connect 25 0 57 0;
#X connect 26 0 56 0;
#X connect 27 0 29 0;
#X connect 29 0 101 0;
#X connect 29 0 117 4;
#X connect 29 0 116 0;
#X connect 30 0 29 1;
#X connect 32 0 26 1;
#X connect 33 0 25 1;
#X connect 55 0 129 0;
#X connect 56 0 131 0;
#X connect 57 0 132 0;
#X connect 59 0 55 1;
#X connect 59 0 56 1;
#X connect 59 0 57 1;
#X connect 59 0 74 1;
#X connect 60 0 72 1;
#X connect 62 0 73 1;
#X connect 63 0 65 0;
#X connect 63 0 110 0;
#X connect 64 0 74 0;
#X connect 65 0 59 0;
#X connect 66 0 67 0;
#X connect 67 0 8 1;
#X connect 72 0 23 0;
#X connect 72 1 60 0;
#X connect 73 0 24 0;
#X connect 73 1 62 0;
#X connect 74 0 64 0;
#X connect 74 1 59 0;
#X connect 75 0 94 3;
#X connect 76 0 77 0;
#X connect 76 0 80 0;
#X connect 77 0 75 0;
#X connect 78 0 77 0;
#X connect 79 0 95 3;
#X connect 80 0 79 0;
#X connect 81 0 80 0;
#X connect 84 0 95 2;
#X connect 84 0 94 2;
#X connect 86 0 88 0;
#X connect 87 0 19 0;
#X connect 87 0 15 0;
#X connect 87 1 18 0;
#X connect 87 1 14 0;
#X connect 87 1 90 2;
#X connect 88 0 87 0;
#X connect 94 0 26 0;
#X connect 94 0 9 0;
#X connect 94 0 96 0;
#X connect 94 0 105 0;
#X connect 94 0 123 1;
#X connect 95 0 25 0;
#X connect 95 0 10 0;
#X connect 95 0 96 1;
#X connect 95 0 105 2;
#X connect 95 0 124 1;
#X connect 96 0 90 0;
#X connect 96 0 30 0;
#X connect 96 0 101 3;
#X connect 96 1 90 1;
#X connect 96 1 30 1;
#X connect 102 0 103 0;
#X connect 103 0 30 2;
#X connect 104 0 103 0;
#X connect 105 0 8 0;
#X connect 107 0 110 0;
#X connect 110 0 60 0;
#X connect 110 0 62 0;
#X connect 111 0 105 3;
#X connect 111 0 32 1;
#X connect 111 0 33 1;
#X connect 111 0 117 1;
#X connect 112 0 32 0;
#X connect 112 0 105 1;
#X connect 112 0 33 0;
#X connect 112 0 117 0;
#X connect 116 0 118 0;
#X connect 117 0 118 1;
#X connect 118 0 67 0;
#X connect 123 0 101 3;
#X connect 123 0 116 3;
#X connect 124 0 116 4;
#X connect 124 0 101 4;
#X coords 0 -1 1 1 500 640 2 50 150;
